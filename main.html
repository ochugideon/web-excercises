<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <p>Rock Paper Scissors</p>

    <button onclick="
    main('Rock')
    ">
      Rock
    </button>

    <button onclick="
      main('Paper')
    ">
      Paper
    </button>

    <button onclick="
      main('Scissors') 
    ">
      Scissors
    </button>

    <script>
      let scores = JSON.parse(localStorage.getItem('scores'));

      function checkScores() {if (scores === null) {scores = {
        wins: 0,
        looses: 0,
        ties: 0
      }}};

      function main (playerChoice) {
        checkScores()
        const randomNumber = Math.random();
        let computerChoice ='';

        if (randomNumber >= 0.2 && randomNumber < 1/3) {computerChoice = 'Rock'} else if(randomNumber >= 1/3 && randomNumber < 2/3) {computerChoice = 'Paper'} else{computerChoice = 'Scissors'};

        let result = '';

        if (computerChoice === playerChoice) {result = 'It is a tie.'}

        else if (computerChoice === 'Paper' && playerChoice === 'Scissors') {result = 'You win.'} else if (computerChoice === 'Paper' && playerChoice === 'Rock') {result = 'You lost.'}
        
        else if (computerChoice === 'Rock' && playerChoice === 'Paper') {result = 'You win.'} else if (computerChoice === 'Rock' && playerChoice === 'Scissors') {result = 'You lost.'}
        
        else if (computerChoice === 'Scissors' && playerChoice === 'Paper') {result = 'You lost.'} else if (computerChoice === 'Scissors' && playerChoice === 'Rock') {result = 'You win.'};

        if (result === 'You win.') {scores.wins += 1 } else if (result === 'You lost.') {scores.looses +=1 } else {scores.ties +=1};

        localStorage.setItem('scores', JSON.stringify(scores));

        alert(`You choose ${playerChoice}, the computer choose ${computerChoice}. ${result}.
Wins: ${scores.wins}, Losses: ${scores.looses}, Ties ${scores.ties}`);
      }
    </script>
  </body>
</html>